# Modelo de Morrell para Molinos

## Descripci칩n

Este proyecto implementa el modelo de Morrell, detallado en el art칤culo de Morrell et al. (1994), para calcular la potencia consumida por molinos a partir de diversos par치metros operacionales y de dise침o. Adem치s, incorpora datos de sensores provistos por Smart Mining Services.

## Dependencias

El modelo requiere Python y las siguientes bibliotecas:
- numpy
- scipy

## Par치metros de Entrada

El modelo requiere la siguiente informaci칩n, especificada en las respectivas tablas de la base de datos:

### Tabla `sm_molinos`
- `L`: Longitud del molino (en pies, float, >0)   ----> en BD CAMPO: profundidadlargomolino
- `d`: Di치metro del molino (en pies, float, >0)   ----> en BD CAMPO: diametro
- `Pv`: Potencia de vac칤o (en kW, float, >0)      ----> en BD Tabla sm_constantes registro con NOMBRE : pv

Los valores para cada par치metro (hasta que nos entreguen valores actualizados)

- Pv es 400kW
  
### Tabla `sm_operaciones`
- `rho_0`: Densidad del mineral (ton/m3, float, > 0)                                       ----> en BD CAMPO: densidadmineral
- `rho_b`: Densidad de las bolas (ton/m3,float, > 0)                                       ----> en BD CAMPO: densidadbolas
- `rho_p`: Densidad de la pulpa (ton/m3,float, > 0)                                        ----> en BD Tabla sm_constantes registro con NOMBRE : rho_p
- `P61`: % de alimento fresco en el rango de tama침o 6'' y 1" (adimensional, float, [0,1])  ----> en BD Tabla sm_constantes registro con NOMBRE : p61
- `Pbruta`: Potencia bruta (en kW, float, >0)                                              ----> en BD CAMPO: potenciaconsumida
- `P_洧멇롐럻롐뙗롐뒳롐놿롐럻롐`: Porcentaje de s칩lidos (adimensional, float, [0,1])                           ----> en BD CAMPO: porcentajesolidos

Los valores para cada par치metro (hasta que nos entreguen valores actualizados)

- rho_0 es 5 ton/m3
- rho_b es 9.36 ton/m3
- rho_p  es 2.8 ton/m3
- P61 es 0.02  

### Tabla `sm_constantes`
- `g`: Aceleraci칩n de gravedad (m/s2, float, 9.81)                                                     ----> en BD Tabla sm_constantes registro con NOMBRE : g
- `E`: Porosidad fraccionaria de carga (adimensional, float,0.4)                                       ----> en BD Tabla sm_constantes registro con NOMBRE : E
- `U`: Fracci칩n del espacio vac칤o del medio de molienda ocupado por la pulpa (adimensioal, float, 1)   ----> en BD Tabla sm_constantes registro con NOMBRE : U
- `k`: Constante de calibraci칩n de molino para METSO 1 (adimensional, float, 0.51)                     ----> en BD Tabla sm_constantes registro con NOMBRE : k
    
### Tabla `sm_datasensores`
- `rpm`: Revoluciones por minuto (rev/min, float, >0)                          ----> en BD Tabla sm_datasensores CAMPO rpm

## Par치metros de Salida
- `timestamp`: Fecha y hora de la simulaci칩n (formato YYYY-MM-DD HH:MM:SS)
- `rpm`: Revoluciones por minuto (rev/min, float)
- `potenciaconsumida`: Potencia bruta (en kW, float)
- `J`: Nivel de llenado de carga (%, float)
- `Jb`: Nivel de llenado de bolas (%, float)
- `pie`: 츼ngulo de impacto (grados, float)
- `hombro`: 츼ngulo de hombro (grados,float)
- `vel_critica`: Porcentaje de velocidad cr칤tica del molino (%,float)

-> se genera nueva tabla **sm_ia_resultado_modelo** con la siguiente estructura 
  - fecha timestamp without time zone,
  - rpm double precision,
  - potenciaconsumida double precision,
  - j double precision,
  - jb double precision,
  - pie double precision,
  - hombro double precision,
  - velocidad_critica double precision

## M칠todo Num칠rico

El modelo utiliza el m칠todo de bisecci칩n para resolver la ecuaci칩n, partiendo de un rango inicial de [0.1, 0.37].

## Ejemplo de Resultados

{
  "timestamp": "2024-04-09 12:00:00",
  "rpm": 12.2,
  "potenciaconsumida": 6000,
  "J": 35.2,
  "Jb": 30.2,
  "pie": 28.65,
  "hombro": 34.38,
  "vel_critica": 65.2
}

Para ejecutar el c칩digo SIN data operacional, se puede usar valores de entre los siguientes rangos, de acuerdo a la data operacional hist칩rica

- Potencia (kW) : 5500 - 7000
- % s칩lidos: 40 - 60%
